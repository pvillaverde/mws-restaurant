"use strict";var map,_Promise="undefined"==typeof Promise?require("es6-promise").Promise:Promise,restaurant=void 0;function fetchRestaurantFromURL(){var e=getParameterByName("id");return new _Promise(function(t,n){self.restaurant?t(self.restaurant):e?DBHelper.fetchRestaurantById(e).then(function(e){self.restaurant=e,fillRestaurantHTML(),t(e)}).catch(function(e){return n(e)}):n("No restaurant id in URL")})}function fillRestaurantHTML(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant;document.getElementById("restaurant-name").innerHTML=e.name,document.getElementById("restaurant-address").innerHTML=e.address;var t=DBHelper.imageUrlForRestaurant(e).replace(/\.[^/.]+$/,""),n=DBHelper.imageUrlForRestaurant(e).split(".").pop();document.getElementById("img-container").innerHTML='<picture>\n\t\t\t<source media="(max-width: 600px)" srcset="'+t+"-400."+n+" 400w, "+t+"-800."+n+' 800w"\n\t\t\t\t\tsizes="100vw"></source>\n\t\t\t<source media="(min-width: 600px)" srcset="'+t+"-400."+n+" 400w, "+t+"-800."+n+' 800w"\n\t\t\t\t\tsizes="50vw"></source>\n\t\t\t<img src="'+t+"-800."+n+'" alt="'+e.name+"'s restaurant photo\">\n\t\t</picture>",document.getElementById("restaurant-cuisine").innerHTML=e.cuisine_type,e.operating_hours&&fillRestaurantHoursHTML(),fillReviewsHTML()}function fillRestaurantHoursHTML(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant.operating_hours,t=document.getElementById("restaurant-hours");for(var n in e){var r=document.createElement("tr");r.innerHTML='<th scope="row">'+n+"</th><td>"+e[n].replace(/,/g,"<br>")+"</td>",t.appendChild(r)}}function fillReviewsHTML(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:self.restaurant.reviews,t=document.getElementById("reviews-list");if(!e){var n=document.createElement("p");return n.innerHTML="No reviews yet!",void t.appendChild(n)}e.forEach(function(e){t.appendChild(createReviewHTML(e))})}function createReviewHTML(e){var t=document.createElement("article");return t.innerHTML="\n\t\t<author>"+e.name+'</author>\n\t\t<time datetime="'+e.date+'">'+e.date+'</time>\n\t\t<meter class="meter-5-hearth" max="5" value="'+e.rating+'"></meter>\n\t\t<span aria-role="presentation" aria-label="Rating '+e.rating+' out of 5" data-value="'+e.rating+'"></span>\n\t\t<p>'+e.comments+"</p>",t}function getParameterByName(e,t){t||(t=window.location.href),e=e.replace(/[[]]/g,"\\$&");var n=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}document.addEventListener("DOMContentLoaded",function(e){fetchRestaurantFromURL()}),window.initMap=function(){fetchRestaurantFromURL().then(function(e){self.map=new google.maps.Map(document.getElementById("map"),{zoom:16,center:e.latlng,scrollwheel:!1}),DBHelper.mapMarkerForRestaurant(self.restaurant,self.map)}).catch(function(e){return console.error(e)})};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlc3RhdXJhbnRfaW5mby5qcyJdLCJuYW1lcyI6WyJtYXAiLCJyZXN0YXVyYW50IiwiZmV0Y2hSZXN0YXVyYW50RnJvbVVSTCIsImlkIiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwiREJIZWxwZXIiLCJfUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJzZWxmIiwicHJvbWlzZSIsInRoZW4iLCJmaWxsUmVzdGF1cmFudEhUTUwiLCJjYXRjaCIsImVycm9yIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImlubmVySFRNTCIsIm5hbWUiLCJhZGRyZXNzIiwiaW1hZ2VGaWxlTmFtZSIsImltYWdlVXJsRm9yUmVzdGF1cmFudCIsInJlcGxhY2UiLCJpbWFnZUZpbGVFeHRlbnNpb24iLCJzcGxpdCIsInBvcCIsIm9wZXJhdGluZ19ob3VycyIsImZpbGxSZXN0YXVyYW50SG91cnNIVE1MIiwiZmlsbFJldmlld3NIVE1MIiwib3BlcmF0aW5nSG91cnMiLCJ0YWJsZSIsImtleSIsInJvdyIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmRDaGlsZCIsInJldmlld3MiLCJjb250YWluZXIiLCJub1Jldmlld3MiLCJyZXZpZXciLCJjcmVhdGVSZXZpZXdIVE1MIiwiZGF0ZSIsInJhdGluZyIsImNvbW1lbnRzIiwiYXJ0aWNsZSIsInVybCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsInJlc3VsdHMiLCJyZWdleCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImluaXRNYXAiLCJnb29nbGUiLCJtYXBzIiwiTWFwIiwiem9vbSIsImxhdGxuZyIsImNlbnRlciIsInNjcm9sbHdoZWVsIiwiY29uc29sZSJdLCJtYXBwaW5ncyI6ImlCQUNJQSxnRkFEQUMsZ0JBQUFBLEVBcUJNLFNBUlRDLHlCQURELElBQUFDLEVBQUFDLG1CQUFBQSxNQXVCR0MsT0FOYyxJQUFBQyxTQUFZLFNBQUNDLEVBQVNDLEdBTHZD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T08sRUFBVUssT0FDaEIxRCxhQUFBQSxJQUdFMkQsU0FBUTVELHVCQUZzRFEsS0FBQVIsV0FBQVEsS0FBQVQsT0FHOUQ4RCxNQUFBQSxTQUFBQSxHQUFBQSxPQUFhQyxRQUFBakQsTUFBQUEiLCJmaWxlIjoicmVzdGF1cmFudF9pbmZvLmpzIiwic291cmNlc0NvbnRlbnQiOlsibGV0IHJlc3RhdXJhbnQ7XHJcbnZhciBtYXA7XHJcblxyXG4vKipcclxuICogRmV0Y2ggbmVpZ2hib3Job29kcyBhbmQgY3Vpc2luZXMgYXMgc29vbiBhcyB0aGUgcGFnZSBpcyBsb2FkZWQuXHJcbiAqL1xyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKGBET01Db250ZW50TG9hZGVkYCwgKGV2ZW50KSA9PiB7XHJcblx0ZmV0Y2hSZXN0YXVyYW50RnJvbVVSTCgpO1xyXG59KTtcclxuLyoqXHJcbiAqIEluaXRpYWxpemUgR29vZ2xlIG1hcCwgY2FsbGVkIGZyb20gSFRNTC5cclxuICovXHJcbndpbmRvdy5pbml0TWFwID0gKCkgPT4ge1xyXG5cdGZldGNoUmVzdGF1cmFudEZyb21VUkwoKS50aGVuKChyZXN0YXVyYW50KSA9PiB7XHJcblx0XHRzZWxmLm1hcCA9IG5ldyBnb29nbGUubWFwcy5NYXAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYG1hcGApLCB7XHJcblx0XHRcdHpvb206IDE2LFxyXG5cdFx0XHRjZW50ZXI6IHJlc3RhdXJhbnQubGF0bG5nLFxyXG5cdFx0XHRzY3JvbGx3aGVlbDogZmFsc2VcclxuXHRcdH0pO1xyXG5cdFx0LypmaWxsQnJlYWRjcnVtYigpOyovXHJcblx0XHREQkhlbHBlci5tYXBNYXJrZXJGb3JSZXN0YXVyYW50KHNlbGYucmVzdGF1cmFudCwgc2VsZi5tYXApO1xyXG5cdH0pLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihlcnJvcikpO1xyXG59O1xyXG5cclxuLyoqXHJcbiAqIEdldCBjdXJyZW50IHJlc3RhdXJhbnQgZnJvbSBwYWdlIFVSTC5cclxuICovXHJcbmZ1bmN0aW9uIGZldGNoUmVzdGF1cmFudEZyb21VUkwoKSB7XHJcblx0Y29uc3QgaWQgPSBnZXRQYXJhbWV0ZXJCeU5hbWUoYGlkYCk7XHJcblx0Y29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuXHRcdGlmIChzZWxmLnJlc3RhdXJhbnQpIHsgLy8gcmVzdGF1cmFudCBhbHJlYWR5IGZldGNoZWQhXHJcblx0XHRcdHJlc29sdmUoc2VsZi5yZXN0YXVyYW50KTtcclxuXHRcdH0gZWxzZSBpZiAoIWlkKSB7XHJcblx0XHRcdHJlamVjdChgTm8gcmVzdGF1cmFudCBpZCBpbiBVUkxgKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdERCSGVscGVyLmZldGNoUmVzdGF1cmFudEJ5SWQoaWQpLnRoZW4oKHJlc3RhdXJhbnQpID0+IHtcclxuXHRcdFx0XHRzZWxmLnJlc3RhdXJhbnQgPSByZXN0YXVyYW50O1xyXG5cdFx0XHRcdGZpbGxSZXN0YXVyYW50SFRNTCgpO1xyXG5cdFx0XHRcdHJlc29sdmUocmVzdGF1cmFudCk7XHJcblx0XHRcdH0pLmNhdGNoKChlcnJvcikgPT4gcmVqZWN0KGVycm9yKSk7XHJcblx0XHR9XHJcblx0fSk7XHJcblx0cmV0dXJuIHByb21pc2U7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgcmVzdGF1cmFudCBIVE1MIGFuZCBhZGQgaXQgdG8gdGhlIHdlYnBhZ2VcclxuICovXHJcbmZ1bmN0aW9uIGZpbGxSZXN0YXVyYW50SFRNTChyZXN0YXVyYW50ID0gc2VsZi5yZXN0YXVyYW50KSB7XHJcblx0Y29uc3QgbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZXN0YXVyYW50LW5hbWVgKTtcclxuXHRuYW1lLmlubmVySFRNTCA9IHJlc3RhdXJhbnQubmFtZTtcclxuXHJcblx0Y29uc3QgYWRkcmVzcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZXN0YXVyYW50LWFkZHJlc3NgKTtcclxuXHRhZGRyZXNzLmlubmVySFRNTCA9IHJlc3RhdXJhbnQuYWRkcmVzcztcclxuXHJcblx0Y29uc3QgaW1hZ2VGaWxlTmFtZSA9IERCSGVscGVyLmltYWdlVXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KS5yZXBsYWNlKC9cXC5bXi8uXSskLywgYGApO1xyXG5cdGNvbnN0IGltYWdlRmlsZUV4dGVuc2lvbiA9IERCSGVscGVyLmltYWdlVXJsRm9yUmVzdGF1cmFudChyZXN0YXVyYW50KS5zcGxpdChgLmApLnBvcCgpO1xyXG5cdGNvbnN0IGltYWdlQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGltZy1jb250YWluZXJgKTtcclxuXHRpbWFnZUNvbnRhaW5lci5pbm5lckhUTUwgPSBgPHBpY3R1cmU+XHJcblx0XHRcdDxzb3VyY2UgbWVkaWE9XCIobWF4LXdpZHRoOiA2MDBweClcIiBzcmNzZXQ9XCIke2ltYWdlRmlsZU5hbWV9LTQwMC4ke2ltYWdlRmlsZUV4dGVuc2lvbn0gNDAwdywgJHtpbWFnZUZpbGVOYW1lfS04MDAuJHtpbWFnZUZpbGVFeHRlbnNpb259IDgwMHdcIlxyXG5cdFx0XHRcdFx0c2l6ZXM9XCIxMDB2d1wiPjwvc291cmNlPlxyXG5cdFx0XHQ8c291cmNlIG1lZGlhPVwiKG1pbi13aWR0aDogNjAwcHgpXCIgc3Jjc2V0PVwiJHtpbWFnZUZpbGVOYW1lfS00MDAuJHtpbWFnZUZpbGVFeHRlbnNpb259IDQwMHcsICR7aW1hZ2VGaWxlTmFtZX0tODAwLiR7aW1hZ2VGaWxlRXh0ZW5zaW9ufSA4MDB3XCJcclxuXHRcdFx0XHRcdHNpemVzPVwiNTB2d1wiPjwvc291cmNlPlxyXG5cdFx0XHQ8aW1nIHNyYz1cIiR7aW1hZ2VGaWxlTmFtZX0tODAwLiR7aW1hZ2VGaWxlRXh0ZW5zaW9ufVwiIGFsdD1cIiR7cmVzdGF1cmFudC5uYW1lfSdzIHJlc3RhdXJhbnQgcGhvdG9cIj5cclxuXHRcdDwvcGljdHVyZT5gO1xyXG5cclxuXHRjb25zdCBjdWlzaW5lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJlc3RhdXJhbnQtY3Vpc2luZWApO1xyXG5cdGN1aXNpbmUuaW5uZXJIVE1MID0gcmVzdGF1cmFudC5jdWlzaW5lX3R5cGU7XHJcblxyXG5cdC8vIGZpbGwgb3BlcmF0aW5nIGhvdXJzXHJcblx0aWYgKHJlc3RhdXJhbnQub3BlcmF0aW5nX2hvdXJzKSB7XHJcblx0XHRmaWxsUmVzdGF1cmFudEhvdXJzSFRNTCgpO1xyXG5cdH1cclxuXHQvLyBmaWxsIHJldmlld3NcclxuXHRmaWxsUmV2aWV3c0hUTUwoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENyZWF0ZSByZXN0YXVyYW50IG9wZXJhdGluZyBob3VycyBIVE1MIHRhYmxlIGFuZCBhZGQgaXQgdG8gdGhlIHdlYnBhZ2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBmaWxsUmVzdGF1cmFudEhvdXJzSFRNTChvcGVyYXRpbmdIb3VycyA9IHNlbGYucmVzdGF1cmFudC5vcGVyYXRpbmdfaG91cnMpIHtcclxuXHRjb25zdCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGByZXN0YXVyYW50LWhvdXJzYCk7XHJcblx0Zm9yIChsZXQga2V5IGluIG9wZXJhdGluZ0hvdXJzKSB7XHJcblx0XHRjb25zdCByb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGB0cmApO1xyXG5cdFx0cm93LmlubmVySFRNTCA9IGA8dGggc2NvcGU9XCJyb3dcIj4ke2tleX08L3RoPjx0ZD4ke29wZXJhdGluZ0hvdXJzW2tleV0ucmVwbGFjZSgvLC9nLGA8YnI+YCl9PC90ZD5gO1xyXG5cdFx0dGFibGUuYXBwZW5kQ2hpbGQocm93KTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgYWxsIHJldmlld3MgSFRNTCBhbmQgYWRkIHRoZW0gdG8gdGhlIHdlYnBhZ2UuXHJcbiAqL1xyXG5mdW5jdGlvbiBmaWxsUmV2aWV3c0hUTUwocmV2aWV3cyA9IHNlbGYucmVzdGF1cmFudC5yZXZpZXdzKSB7XHJcblx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHJldmlld3MtbGlzdGApO1xyXG5cdGlmICghcmV2aWV3cykge1xyXG5cdFx0Y29uc3Qgbm9SZXZpZXdzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChgcGApO1xyXG5cdFx0bm9SZXZpZXdzLmlubmVySFRNTCA9IGBObyByZXZpZXdzIHlldCFgO1xyXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKG5vUmV2aWV3cyk7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cdHJldmlld3MuZm9yRWFjaChyZXZpZXcgPT4ge1xyXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZVJldmlld0hUTUwocmV2aWV3KSk7XHJcblx0fSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgcmV2aWV3IEhUTUwgYW5kIGFkZCBpdCB0byB0aGUgd2VicGFnZS5cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVJldmlld0hUTUwocmV2aWV3KSB7XHJcblx0Y29uc3QgYXJ0aWNsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoYGFydGljbGVgKTtcclxuXHRhcnRpY2xlLmlubmVySFRNTCA9IGBcclxuXHRcdDxhdXRob3I+JHtyZXZpZXcubmFtZX08L2F1dGhvcj5cclxuXHRcdDx0aW1lIGRhdGV0aW1lPVwiJHtyZXZpZXcuZGF0ZX1cIj4ke3Jldmlldy5kYXRlfTwvdGltZT5cclxuXHRcdDxtZXRlciBjbGFzcz1cIm1ldGVyLTUtaGVhcnRoXCIgbWF4PVwiNVwiIHZhbHVlPVwiJHtyZXZpZXcucmF0aW5nfVwiPjwvbWV0ZXI+XHJcblx0XHQ8c3BhbiBhcmlhLXJvbGU9XCJwcmVzZW50YXRpb25cIiBhcmlhLWxhYmVsPVwiUmF0aW5nICR7cmV2aWV3LnJhdGluZ30gb3V0IG9mIDVcIiBkYXRhLXZhbHVlPVwiJHtyZXZpZXcucmF0aW5nfVwiPjwvc3Bhbj5cclxuXHRcdDxwPiR7cmV2aWV3LmNvbW1lbnRzfTwvcD5gO1xyXG5cdHJldHVybiBhcnRpY2xlO1xyXG59XHJcblxyXG4vKipcclxuICogQWRkIHJlc3RhdXJhbnQgbmFtZSB0byB0aGUgYnJlYWRjcnVtYiBuYXZpZ2F0aW9uIG1lbnVcclxuICovXHJcbi8qZmlsbEJyZWFkY3J1bWIgPSAocmVzdGF1cmFudCA9IHNlbGYucmVzdGF1cmFudCkgPT4ge1xyXG5cdGNvbnN0IGJyZWFkY3J1bWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnJlYWRjcnVtYicpO1xyXG5cdGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcclxuXHRsaS5pbm5lckhUTUwgPSByZXN0YXVyYW50Lm5hbWU7XHJcblx0YnJlYWRjcnVtYi5hcHBlbmRDaGlsZChsaSk7XHJcbn0qL1xyXG5cclxuLyoqXHJcbiAqIEdldCBhIHBhcmFtZXRlciBieSBuYW1lIGZyb20gcGFnZSBVUkwuXHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRQYXJhbWV0ZXJCeU5hbWUobmFtZSwgdXJsKSB7XHJcblx0aWYgKCF1cmwpXHJcblx0XHR1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcclxuXHRuYW1lID0gbmFtZS5yZXBsYWNlKC9bW11dL2csIGBcXFxcJCZgKTtcclxuXHRjb25zdCByZWdleCA9IG5ldyBSZWdFeHAoYFs/Jl0ke25hbWV9KD0oW14mI10qKXwmfCN8JClgKSxcclxuXHRcdHJlc3VsdHMgPSByZWdleC5leGVjKHVybCk7XHJcblx0aWYgKCFyZXN1bHRzKVxyXG5cdFx0cmV0dXJuIG51bGw7XHJcblx0aWYgKCFyZXN1bHRzWzJdKVxyXG5cdFx0cmV0dXJuIGBgO1xyXG5cdHJldHVybiBkZWNvZGVVUklDb21wb25lbnQocmVzdWx0c1syXS5yZXBsYWNlKC9cXCsvZywgYCBgKSk7XHJcbn0iXX0=
