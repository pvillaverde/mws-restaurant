"use strict";function _registerServiceWorker(){if(navigator.serviceWorker){navigator.serviceWorker.register("/sw.js").then(function(e){navigator.serviceWorker.controller&&(e.waiting?_updateReady(e.waiting):e.installing?_trackInstalling(e.installing):e.addEventListener("updatefound",function(){_trackInstalling(e.installing)}))});var e=void 0;navigator.serviceWorker.addEventListener("controllerchange",function(){e||(window.location.reload(),e=!0)})}}function _trackInstalling(e){e.addEventListener("statechange",function(){"installed"==e.state&&_updateReady(e)})}function _updateReady(e){confirm("New version is available!")&&e.postMessage({action:"skipWaiting"})}document.addEventListener("DOMContentLoaded",function(){_registerServiceWorker()});